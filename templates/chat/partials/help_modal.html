<!-- Help Modal -->
<div x-show="showHelp" 
     x-transition:enter="transition ease-out duration-300"
     x-transition:enter-start="opacity-0"
     x-transition:enter-end="opacity-100"
     x-transition:leave="transition ease-in duration-200"
     x-transition:leave-start="opacity-100"
     x-transition:leave-end="opacity-0"
     @click="showHelp = false"
     @keydown.escape="showHelp = false"
     class="fixed inset-0 bg-gray-900 bg-opacity-50 z-[9999] flex items-center justify-center p-4"
     role="dialog"
     aria-modal="true"
     aria-labelledby="help-modal-title">
    
    <div @click.stop
         x-transition:enter="transition ease-out duration-300 transform"
         x-transition:enter-start="opacity-0 scale-95"
         x-transition:enter-end="opacity-100 scale-100"
         x-transition:leave="transition ease-in duration-200 transform"
         x-transition:leave-start="opacity-100 scale-100"
         x-transition:leave-end="opacity-0 scale-95"
         class="bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col">
        
        <!-- Modal Header -->
        <div class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 flex items-center justify-between">
            <h2 id="help-modal-title" class="text-xl font-bold flex items-center">
                <svg class="h-6 w-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                Ultra PDF Chatbot 3000 - Help & Documentation
            </h2>
            <button @click="showHelp = false"
                    class="p-2 hover:bg-white/20 rounded-lg transition-colors duration-200"
                    aria-label="Close help modal">
                <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
        
        <!-- Tab Navigation -->
        <div class="bg-gradient-to-r from-gray-50 to-blue-50 border-b border-gray-200 px-6 py-2">
            <nav class="flex space-x-1 overflow-x-auto scrollbar-thin" role="tablist">
                <button @click="activeHelpTab = 'upload'"
                        :class="activeHelpTab === 'upload' ? 'bg-blue-600 text-white' : 'text-gray-600 hover:bg-blue-100'"
                        class="px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 whitespace-nowrap"
                        role="tab">
                    üì§ Upload
                </button>
                <button @click="activeHelpTab = 'chat'"
                        :class="activeHelpTab === 'chat' ? 'bg-blue-600 text-white' : 'text-gray-600 hover:bg-blue-100'"
                        class="px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 whitespace-nowrap"
                        role="tab">
                    üí¨ AI Chat
                </button>
                <button @click="activeHelpTab = 'analysis'"
                        :class="activeHelpTab === 'analysis' ? 'bg-blue-600 text-white' : 'text-gray-600 hover:bg-blue-100'"
                        class="px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 whitespace-nowrap"
                        role="tab">
                    üîç Analysis
                </button>
                <button @click="activeHelpTab = 'modify'"
                        :class="activeHelpTab === 'modify' ? 'bg-blue-600 text-white' : 'text-gray-600 hover:bg-blue-100'"
                        class="px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 whitespace-nowrap"
                        role="tab">
                    ‚úèÔ∏è Modify
                </button>
                <button @click="activeHelpTab = 'charts'"
                        :class="activeHelpTab === 'charts' ? 'bg-blue-600 text-white' : 'text-gray-600 hover:bg-blue-100'"
                        class="px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 whitespace-nowrap"
                        role="tab">
                    üìä Charts
                </button>
                <button @click="activeHelpTab = 'conversations'"
                        :class="activeHelpTab === 'conversations' ? 'bg-blue-600 text-white' : 'text-gray-600 hover:bg-blue-100'"
                        class="px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 whitespace-nowrap"
                        role="tab">
                    üíº Conversations
                </button>
                <button @click="activeHelpTab = 'quick'"
                        :class="activeHelpTab === 'quick' ? 'bg-blue-600 text-white' : 'text-gray-600 hover:bg-blue-100'"
                        class="px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 whitespace-nowrap"
                        role="tab">
                    ‚ö° Quick Actions
                </button>
                <button @click="activeHelpTab = 'troubleshooting'"
                        :class="activeHelpTab === 'troubleshooting' ? 'bg-blue-600 text-white' : 'text-gray-600 hover:bg-blue-100'"
                        class="px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 whitespace-nowrap"
                        role="tab">
                    üîß Troubleshooting
                </button>
            </nav>
        </div>
        
        <!-- Modal Content -->
        <div class="flex-1 overflow-y-auto scrollbar-thin p-6" role="tabpanel">
            
            <!-- Document Upload Tab -->
            <div x-show="activeHelpTab === 'upload'" class="space-y-6">
                <h3 class="text-2xl font-bold text-gray-900 mb-4">üì§ Document Upload</h3>
                
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                    <h4 class="font-semibold text-blue-900 mb-2">Quick Start</h4>
                    <p class="text-blue-800">Drag and drop files into the upload zone or click to browse. You can upload multiple documents simultaneously.</p>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-lg font-semibold text-gray-900">Supported File Types</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="border border-red-200 rounded-lg p-4 bg-red-50">
                            <div class="flex items-center mb-2">
                                <svg class="h-5 w-5 text-red-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                                </svg>
                                <span class="font-semibold text-red-700">PDF Files</span>
                            </div>
                            <p class="text-sm text-red-600">Extract text, tables, and analyze content. Perfect for reports, documents, and research papers.</p>
                        </div>
                        
                        <div class="border border-green-200 rounded-lg p-4 bg-green-50">
                            <div class="flex items-center mb-2">
                                <svg class="h-5 w-5 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                                <span class="font-semibold text-green-700">Excel Files (.xlsx)</span>
                            </div>
                            <p class="text-sm text-green-600">Analyze data, create charts, modify formulas, and generate new spreadsheets with calculations.</p>
                        </div>
                        
                        <div class="border border-blue-200 rounded-lg p-4 bg-blue-50">
                            <div class="flex items-center mb-2">
                                <svg class="h-5 w-5 text-blue-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                                <span class="font-semibold text-blue-700">Word Files (.docx)</span>
                            </div>
                            <p class="text-sm text-blue-600">Process text content, extract information, and generate new documents with specific formatting.</p>
                        </div>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-lg font-semibold text-gray-900">Upload Limits</h4>
                    <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                        <ul class="space-y-2 text-gray-700">
                            <li><strong>Maximum file size:</strong> 50MB per file</li>
                            <li><strong>Maximum documents:</strong> {{ max_documents }} files per session</li>
                            <li><strong>Supported formats:</strong> PDF, XLSX, DOCX only</li>
                            <li><strong>Multiple uploads:</strong> Drag multiple files at once</li>
                        </ul>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-lg font-semibold text-gray-900">Upload Methods</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">Drag & Drop</h5>
                            <p class="text-sm text-gray-600">Drag files from your computer directly into the upload zone. The zone will highlight when files are ready to drop.</p>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">Click to Browse</h5>
                            <p class="text-sm text-gray-600">Click anywhere in the upload zone to open the file browser. You can select multiple files at once.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- AI Chat Tab -->
            <div x-show="activeHelpTab === 'chat'" class="space-y-6">
                <h3 class="text-2xl font-bold text-gray-900 mb-4">üí¨ AI Chat Capabilities</h3>
                
                <div class="bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6">
                    <h4 class="font-semibold text-purple-900 mb-2">Natural Language Processing</h4>
                    <p class="text-purple-800">Ask questions in plain English about your documents. The AI understands context and can perform complex operations.</p>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-lg font-semibold text-gray-900">Example Questions</h4>
                    <div class="space-y-3">
                        <div class="bg-gray-50 border-l-4 border-blue-500 p-4">
                            <p class="text-gray-700"><strong>General Analysis:</strong> "What are the key findings in this report?"</p>
                        </div>
                        <div class="bg-gray-50 border-l-4 border-green-500 p-4">
                            <p class="text-gray-700"><strong>Data Questions:</strong> "What's the total revenue in the sales spreadsheet?"</p>
                        </div>
                        <div class="bg-gray-50 border-l-4 border-orange-500 p-4">
                            <p class="text-gray-700"><strong>Comparisons:</strong> "Compare the data between these two documents"</p>
                        </div>
                        <div class="bg-gray-50 border-l-4 border-red-500 p-4">
                            <p class="text-gray-700"><strong>Summaries:</strong> "Summarize the main points from all uploaded documents"</p>
                        </div>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-lg font-semibold text-gray-900">Chat Features</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">Context Awareness</h5>
                            <p class="text-sm text-gray-600">The AI remembers previous messages and uploaded documents throughout your conversation.</p>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">Multi-Document Processing</h5>
                            <p class="text-sm text-gray-600">Ask questions that span multiple documents. The AI can cross-reference and compare content.</p>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">Real-time Responses</h5>
                            <p class="text-sm text-gray-600">Get immediate feedback with typing indicators and progress updates for longer operations.</p>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">Smart Suggestions</h5>
                            <p class="text-sm text-gray-600">The AI provides intelligent suggestions based on your document content and previous queries.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Document Analysis Tab -->
            <div x-show="activeHelpTab === 'analysis'" class="space-y-6">
                <h3 class="text-2xl font-bold text-gray-900 mb-4">üîç Document Analysis</h3>
                
                <div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-6">
                    <h4 class="font-semibold text-green-900 mb-2">Intelligent Content Extraction</h4>
                    <p class="text-green-800">Advanced parsing capabilities extract text, tables, metadata, and structure from your documents.</p>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-lg font-semibold text-gray-900">PDF Analysis Features</h4>
                    <div class="space-y-3">
                        <div class="flex items-start space-x-3">
                            <svg class="h-5 w-5 text-green-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <div>
                                <p class="font-medium text-gray-900">Text Extraction</p>
                                <p class="text-sm text-gray-600">Extract all readable text while preserving formatting and structure</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <svg class="h-5 w-5 text-green-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <div>
                                <p class="font-medium text-gray-900">Table Detection</p>
                                <p class="text-sm text-gray-600">Automatically identify and parse tables with proper column headers</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <svg class="h-5 w-5 text-green-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <div>
                                <p class="font-medium text-gray-900">Metadata Analysis</p>
                                <p class="text-sm text-gray-600">Extract document properties like author, creation date, and keywords</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-lg font-semibold text-gray-900">Excel Data Processing</h4>
                    <div class="space-y-3">
                        <div class="flex items-start space-x-3">
                            <svg class="h-5 w-5 text-blue-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <div>
                                <p class="font-medium text-gray-900">Sheet Analysis</p>
                                <p class="text-sm text-gray-600">Process multiple worksheets and understand data relationships</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <svg class="h-5 w-5 text-blue-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <div>
                                <p class="font-medium text-gray-900">Formula Recognition</p>
                                <p class="text-sm text-gray-600">Understand existing formulas and calculations in spreadsheets</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <svg class="h-5 w-5 text-blue-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <div>
                                <p class="font-medium text-gray-900">Data Type Detection</p>
                                <p class="text-sm text-gray-600">Automatically identify numbers, dates, text, and boolean values</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-lg font-semibold text-gray-900">Word Document Processing</h4>
                    <div class="space-y-3">
                        <div class="flex items-start space-x-3">
                            <svg class="h-5 w-5 text-purple-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <div>
                                <p class="font-medium text-gray-900">Content Structure</p>
                                <p class="text-sm text-gray-600">Preserve headings, paragraphs, and document hierarchy</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <svg class="h-5 w-5 text-purple-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <div>
                                <p class="font-medium text-gray-900">Table Extraction</p>
                                <p class="text-sm text-gray-600">Extract tables from Word documents with proper formatting</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <svg class="h-5 w-5 text-purple-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <div>
                                <p class="font-medium text-gray-900">Style Recognition</p>
                                <p class="text-sm text-gray-600">Understand formatting styles and document organization</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Document Modification Tab -->
            <div x-show="activeHelpTab === 'modify'" class="space-y-6">
                <h3 class="text-2xl font-bold text-gray-900 mb-4">‚úèÔ∏è Document Modification</h3>
                
                <div class="bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6">
                    <h4 class="font-semibold text-orange-900 mb-2">AI-Powered Document Editing</h4>
                    <p class="text-orange-800">Request modifications in natural language and download the updated files instantly.</p>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-lg font-semibold text-gray-900">Excel Modifications</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">Add Calculations</h5>
                            <p class="text-sm text-gray-600 mb-2">Add new columns with formulas and calculations</p>
                            <div class="bg-gray-50 p-2 rounded text-xs font-mono">"Add a 20% tax column to the sales data"</div>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">Data Filtering</h5>
                            <p class="text-sm text-gray-600 mb-2">Filter and sort data based on criteria</p>
                            <div class="bg-gray-50 p-2 rounded text-xs font-mono">"Show only sales above $1000"</div>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">New Worksheets</h5>
                            <p class="text-sm text-gray-600 mb-2">Create additional sheets with summaries</p>
                            <div class="bg-gray-50 p-2 rounded text-xs font-mono">"Create a summary sheet with totals"</div>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">Format Changes</h5>
                            <p class="text-sm text-gray-600 mb-2">Apply formatting and styling</p>
                            <div class="bg-gray-50 p-2 rounded text-xs font-mono">"Format numbers as currency"</div>
                        </div>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-lg font-semibold text-gray-900">Word Document Generation</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">Content Creation</h5>
                            <p class="text-sm text-gray-600 mb-2">Generate new documents from data</p>
                            <div class="bg-gray-50 p-2 rounded text-xs font-mono">"Create a report from this data"</div>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">Table Insertion</h5>
                            <p class="text-sm text-gray-600 mb-2">Add tables with Excel data</p>
                            <div class="bg-gray-50 p-2 rounded text-xs font-mono">"Insert a table with the sales summary"</div>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">Custom Formatting</h5>
                            <p class="text-sm text-gray-600 mb-2">Apply specific styles and formatting</p>
                            <div class="bg-gray-50 p-2 rounded text-xs font-mono">"Format as a professional report"</div>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">Template-based</h5>
                            <p class="text-sm text-gray-600 mb-2">Create documents following templates</p>
                            <div class="bg-gray-50 p-2 rounded text-xs font-mono">"Generate an invoice from this data"</div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                    <h4 class="font-semibold text-yellow-800 mb-2">üí° Pro Tip</h4>
                    <p class="text-yellow-700">All modifications create new files - your original documents remain unchanged. Download links appear in the chat response.</p>
                </div>
            </div>
            
            <!-- Charts Tab -->
            <div x-show="activeHelpTab === 'charts'" class="space-y-6">
                <h3 class="text-2xl font-bold text-gray-900 mb-4">üìä Data Visualization</h3>
                
                <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-4 mb-6">
                    <h4 class="font-semibold text-indigo-900 mb-2">Automatic Chart Generation</h4>
                    <p class="text-indigo-800">Create beautiful charts and graphs from your data with simple natural language commands.</p>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-lg font-semibold text-gray-900">Chart Types Available</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">üìä Bar Charts</h5>
                            <p class="text-sm text-gray-600 mb-2">Compare categories and values</p>
                            <div class="bg-gray-50 p-2 rounded text-xs font-mono">"Create a bar chart of monthly sales"</div>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">üìà Line Charts</h5>
                            <p class="text-sm text-gray-600 mb-2">Show trends over time</p>
                            <div class="bg-gray-50 p-2 rounded text-xs font-mono">"Show revenue trends by month"</div>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">ü•ß Pie Charts</h5>
                            <p class="text-sm text-gray-600 mb-2">Display proportions and percentages</p>
                            <div class="bg-gray-50 p-2 rounded text-xs font-mono">"Create a pie chart of product categories"</div>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">üìä Scatter Plots</h5>
                            <p class="text-sm text-gray-600 mb-2">Show relationships between variables</p>
                            <div class="bg-gray-50 p-2 rounded text-xs font-mono">"Plot price vs quantity sold"</div>
                        </div>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-lg font-semibold text-gray-900">Chart Customization</h4>
                    <div class="space-y-3">
                        <div class="flex items-start space-x-3">
                            <svg class="h-5 w-5 text-indigo-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"></path>
                            </svg>
                            <div>
                                <p class="font-medium text-gray-900">Colors and Themes</p>
                                <p class="text-sm text-gray-600">Customize colors to match your brand or preferences</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <svg class="h-5 w-5 text-indigo-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"></path>
                            </svg>
                            <div>
                                <p class="font-medium text-gray-900">Labels and Titles</p>
                                <p class="text-sm text-gray-600">Add descriptive titles and axis labels automatically</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <svg class="h-5 w-5 text-indigo-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"></path>
                            </svg>
                            <div>
                                <p class="font-medium text-gray-900">Export Options</p>
                                <p class="text-sm text-gray-600">Download charts as PNG images or embed in documents</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Conversations Tab -->
            <div x-show="activeHelpTab === 'conversations'" class="space-y-6">
                <h3 class="text-2xl font-bold text-gray-900 mb-4">üíº Conversation Management</h3>
                
                <div class="bg-teal-50 border border-teal-200 rounded-lg p-4 mb-6">
                    <h4 class="font-semibold text-teal-900 mb-2">Multiple Conversations</h4>
                    <p class="text-teal-800">Organize your work with separate conversations for different projects or document sets.</p>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-lg font-semibold text-gray-900">Conversation Features</h4>
                    <div class="space-y-3">
                        <div class="flex items-start space-x-3">
                            <svg class="h-5 w-5 text-teal-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                            </svg>
                            <div>
                                <p class="font-medium text-gray-900">Create New Conversations</p>
                                <p class="text-sm text-gray-600">Start fresh conversations for different projects or document sets</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <svg class="h-5 w-5 text-teal-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3a4 4 0 118 0v4m-4 12v-8m0 0H8m4 0h4"></path>
                            </svg>
                            <div>
                                <p class="font-medium text-gray-900">Session Persistence</p>
                                <p class="text-sm text-gray-600">Your conversations and uploaded documents persist between browser sessions</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <svg class="h-5 w-5 text-teal-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2M9 4v8l3-3 3 3V4"></path>
                            </svg>
                            <div>
                                <p class="font-medium text-gray-900">Context Switching</p>
                                <p class="text-sm text-gray-600">Switch between conversations while maintaining separate document contexts</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <svg class="h-5 w-5 text-teal-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707"></path>
                            </svg>
                            <div>
                                <p class="font-medium text-gray-900">Auto-Save</p>
                                <p class="text-sm text-gray-600">All messages and document uploads are automatically saved</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-lg font-semibold text-gray-900">Managing Conversations</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">Active Conversation</h5>
                            <p class="text-sm text-gray-600">The conversation you're currently working in. Documents uploaded here are available for this conversation only.</p>
                        </div>
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">Conversation List</h5>
                            <p class="text-sm text-gray-600">View and switch between all your conversations. Recent conversations appear at the top.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Quick Actions Tab -->
            <div x-show="activeHelpTab === 'quick'" class="space-y-6">
                <h3 class="text-2xl font-bold text-gray-900 mb-4">‚ö° Quick Actions</h3>
                
                <div class="bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6">
                    <h4 class="font-semibold text-amber-900 mb-2">Preset Commands</h4>
                    <p class="text-amber-800">Speed up your workflow with pre-configured buttons for common tasks.</p>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-lg font-semibold text-gray-900">Desktop Quick Actions</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="border border-orange-200 rounded-lg p-4 bg-orange-50">
                            <h5 class="font-semibold text-orange-800 mb-2">üìÑ Summarize All</h5>
                            <p class="text-sm text-orange-600">Generates a comprehensive summary of all uploaded documents with key findings and insights.</p>
                        </div>
                        <div class="border border-green-200 rounded-lg p-4 bg-green-50">
                            <h5 class="font-semibold text-green-800 mb-2">üìä Create Chart</h5>
                            <p class="text-sm text-green-600">Automatically creates visualizations from data found in your spreadsheets and documents.</p>
                        </div>
                        <div class="border border-blue-200 rounded-lg p-4 bg-blue-50">
                            <h5 class="font-semibold text-blue-800 mb-2">üîç Extract Insights</h5>
                            <p class="text-sm text-blue-600">Analyzes documents to identify key insights, trends, and important information.</p>
                        </div>
                        <div class="border border-purple-200 rounded-lg p-4 bg-purple-50">
                            <h5 class="font-semibold text-purple-800 mb-2">üîÑ Compare Docs</h5>
                            <p class="text-sm text-purple-600">Compares multiple documents to identify similarities, differences, and relationships.</p>
                        </div>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-lg font-semibold text-gray-900">Mobile Navigation</h4>
                    <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                        <p class="text-gray-700 mb-4">On mobile devices, access quick actions through the bottom navigation bar:</p>
                        <div class="space-y-2">
                            <div class="flex items-center space-x-3">
                                <svg class="h-5 w-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                                <span class="text-sm"><strong>Docs:</strong> Access document sidebar and file management</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <svg class="h-5 w-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                </svg>
                                <span class="text-sm"><strong>Clear:</strong> Clear current conversation</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <svg class="h-5 w-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                                <span class="text-sm"><strong>Summary:</strong> Quick document summary</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <svg class="h-5 w-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                </svg>
                                <span class="text-sm"><strong>Chart:</strong> Create data visualizations</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Troubleshooting Tab -->
            <div x-show="activeHelpTab === 'troubleshooting'" class="space-y-6">
                <h3 class="text-2xl font-bold text-gray-900 mb-4">üîß Troubleshooting</h3>
                
                <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">
                    <h4 class="font-semibold text-red-900 mb-2">Common Issues & Solutions</h4>
                    <p class="text-red-800">Quick fixes for the most common problems you might encounter.</p>
                </div>
                
                <div class="space-y-6">
                    <div class="border border-gray-200 rounded-lg p-4">
                        <h4 class="text-lg font-semibold text-gray-900 mb-3">üö´ File Upload Issues</h4>
                        <div class="space-y-3">
                            <div class="bg-gray-50 p-3 rounded">
                                <p class="font-medium text-gray-800 mb-1">Problem: "File too large" error</p>
                                <p class="text-sm text-gray-600"><strong>Solution:</strong> Maximum file size is 50MB. Compress your file or split large documents into smaller sections.</p>
                            </div>
                            <div class="bg-gray-50 p-3 rounded">
                                <p class="font-medium text-gray-800 mb-1">Problem: "File format not supported"</p>
                                <p class="text-sm text-gray-600"><strong>Solution:</strong> Only PDF (.pdf), Excel (.xlsx), and Word (.docx) files are supported. Convert other formats first.</p>
                            </div>
                            <div class="bg-gray-50 p-3 rounded">
                                <p class="font-medium text-gray-800 mb-1">Problem: Upload gets stuck or fails</p>
                                <p class="text-sm text-gray-600"><strong>Solution:</strong> Check your internet connection and try again. Clear browser cache if the problem persists.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="border border-gray-200 rounded-lg p-4">
                        <h4 class="text-lg font-semibold text-gray-900 mb-3">üí¨ Chat Issues</h4>
                        <div class="space-y-3">
                            <div class="bg-gray-50 p-3 rounded">
                                <p class="font-medium text-gray-800 mb-1">Problem: AI doesn't respond or takes too long</p>
                                <p class="text-sm text-gray-600"><strong>Solution:</strong> Complex queries may take longer. Wait for the typing indicator. If no response after 2 minutes, refresh the page.</p>
                            </div>
                            <div class="bg-gray-50 p-3 rounded">
                                <p class="font-medium text-gray-800 mb-1">Problem: AI seems to forget previous context</p>
                                <p class="text-sm text-gray-600"><strong>Solution:</strong> Each conversation maintains its own context. Make sure you're in the right conversation and documents are uploaded.</p>
                            </div>
                            <div class="bg-gray-50 p-3 rounded">
                                <p class="font-medium text-gray-800 mb-1">Problem: Can't send messages</p>
                                <p class="text-sm text-gray-600"><strong>Solution:</strong> Check that the message box isn't empty and you're under the character limit (1000 characters).</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="border border-gray-200 rounded-lg p-4">
                        <h4 class="text-lg font-semibold text-gray-900 mb-3">üìä Data Processing Issues</h4>
                        <div class="space-y-3">
                            <div class="bg-gray-50 p-3 rounded">
                                <p class="font-medium text-gray-800 mb-1">Problem: Charts not generating correctly</p>
                                <p class="text-sm text-gray-600"><strong>Solution:</strong> Ensure your Excel file contains proper data tables with headers. Specify which data you want to visualize.</p>
                            </div>
                            <div class="bg-gray-50 p-3 rounded">
                                <p class="font-medium text-gray-800 mb-1">Problem: Document modifications fail</p>
                                <p class="text-sm text-gray-600"><strong>Solution:</strong> Be specific in your requests. Complex modifications may take longer. Try breaking down complex requests into smaller steps.</p>
                            </div>
                            <div class="bg-gray-50 p-3 rounded">
                                <p class="font-medium text-gray-808 mb-1">Problem: Can't download generated files</p>
                                <p class="text-sm text-gray-600"><strong>Solution:</strong> Check browser popup blockers. Download links expire after 24 hours - generate files again if needed.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="border border-gray-200 rounded-lg p-4">
                        <h4 class="text-lg font-semibold text-gray-900 mb-3">üåê Browser Issues</h4>
                        <div class="space-y-3">
                            <div class="bg-gray-50 p-3 rounded">
                                <p class="font-medium text-gray-800 mb-1">Problem: Page not loading properly</p>
                                <p class="text-sm text-gray-600"><strong>Solution:</strong> Try refreshing the page (Ctrl+F5). Clear browser cache and cookies if problems persist.</p>
                            </div>
                            <div class="bg-gray-50 p-3 rounded">
                                <p class="font-medium text-gray-800 mb-1">Problem: Features not working on mobile</p>
                                <p class="text-sm text-gray-600"><strong>Solution:</strong> Some advanced features work better on desktop. Use landscape mode on mobile for better experience.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                    <h4 class="font-semibold text-blue-900 mb-2">üÜò Still Need Help?</h4>
                    <p class="text-blue-800 mb-2">If you're still experiencing issues:</p>
                    <ul class="text-blue-700 text-sm space-y-1 ml-4">
                        <li>‚Ä¢ Try refreshing your browser</li>
                        <li>‚Ä¢ Check if JavaScript is enabled</li>
                        <li>‚Ä¢ Use a modern browser (Chrome, Firefox, Safari, Edge)</li>
                        <li>‚Ä¢ Contact support if problems persist</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Modal Footer -->
        <div class="bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between items-center">
            <div class="text-sm text-gray-600">
                Use <kbd class="px-2 py-1 bg-gray-200 rounded text-xs">Esc</kbd> to close this help window
            </div>
            <button @click="showHelp = false"
                    class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200">
                Got it!
            </button>
        </div>
    </div>
</div>